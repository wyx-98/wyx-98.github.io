---
layout:     post   				    # 使用的布局（不需要改）

title:      分布式事务的解决方案				# 标题 

subtitle:   Hello World, Hello Blog #副标题

date:       2020-07-29			# 时间

author:     wyx					# 作者

header-img: img/blog01.png 	#这篇文章标题背景图片

catalog: true 						# 是否归档

tags:								#标签
     - work
---
## 分布式事务的实现有以下几种方案：

XA方案
本地消息表
可靠消息最终一致方案
最大努力通过方案

#### 两阶段提交/XA方案：

有一个事务管理器的概念，负责协调多个数据库的事务。
当操作别人的服务的库时，你必须通过调用别的服务的接口来实现。

#### TTC方案三个阶段（try，confirm，Cancel）：

try-->对各个服务的资源做检测以及对资源进行锁定或者预留
confirm阶段-->在各个服务中执行实际的操作
cancel-->如果出错则要进行补偿，就是执行已经执行成功的业务逻辑的回滚操作。

要么全部成功要么全部失败

#### 本地消息表：

#### 可靠消息最终一致性方案：（直接基于MQ来实现事务）
![实例图](/img/分布式事务最终一致性.webp)

#### 最大努力通过方案





